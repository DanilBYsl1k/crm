<div class="users-dashboard">
  <h2>Users dashboard</h2>
  <div class="users-dashboard__filtering-box">
    <div class="users-dashboard-input">
      <input type="text" placeholder="user">
      <mat-icon>search</mat-icon>
    </div>
    <div class="addition-params">
      <button mat-stroked-button>
        <span>Filter</span>
        <mat-icon>filter_alt</mat-icon>
      </button>
      <button mat-stroked-button>
        Sort by
        <mat-icon>swap_vert</mat-icon>
      </button>
      <button [matMenuTriggerFor]="afterMenu" mat-icon-button>
        <mat-icon>more_vert</mat-icon>
      </button>
    </div>

    <mat-menu #afterMenu="matMenu" xPosition="after">
      <a mat-menu-item routerLink="/users/add">
        <mat-icon>add</mat-icon>
        Add user</a>
    </mat-menu>
  </div>
  <div class="users-dashboard__table-wrapper">
    <table class="users-dashboard__table">
      <thead class="users-dashboard__table-header">
      <tr>
        <th style="width: 5%">Avatar</th>
        <th>Name</th>
        <th>Role</th>
        <th>Email</th>
        <th>Phone</th>
        <th style="width: 5%">Action</th>
      </tr>
      </thead>
      <tbody class="users-dashboard__table-body">
        @for (user of $users | async; track user.name) {

          <tr>
            <td><img class="img-user-avatar" [src]="user.avatar?.file_path || '/assets/icons/user.svg'" alt="avatar"></td>
            <td>{{ user.name }}</td>
            <td>{{ user.role }}</td>
            <td>{{ user.email }}</td>
            <td>+{{ user.phone }}</td>
            <td class="edit-td">
              <button [matMenuTriggerFor]="actionMenu" mat-icon-button>
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #actionMenu="matMenu" yPosition="below" class="header-widget">
                <a mat-menu-item [routerLink]="['/users/edit', user.email]">
                  <mat-icon>create</mat-icon>
                  <span>Edit profile</span>
                </a>
                <a mat-menu-item>
                  <mat-icon>delete_forever</mat-icon>
                  <a>delete</a>
                </a>
              </mat-menu>
            </td>
          </tr>
        }


      </tbody>
      <tfoot>
      <tr>

      </tr>
      </tfoot>
    </table>
  </div>

</div>
